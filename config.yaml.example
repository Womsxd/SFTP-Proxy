server:
  host: 0.0.0.0
  sftp_port: 2222
  api_port: 8080
  host_key: ./ssh_host_key
  host_key_type: rsa              # rsa | ecdsa | ed25519 (不存在时自动生成)
  connection_timeout: 300         # 连接超时时间（秒），5分钟无操作自动断开
  operation_timeout: 60           # 单次操作超时时间（秒）
  rate_limit: 0                   # 下载限速（KB/s），0表示不限速

redis:
  host: localhost
  port: 6379
  db: 0
  password: null
  key_prefix: "sftp"

token:
  default_expire: 600           # 10分钟
  max_expire: 86400             # 24小时

auth:
  type: token                   # token | jwt | s3
  # Token模式: 用户名直接传入token，无需密码
  # JWT模式: 固定用户名 + JWT token密码
  # S3模式: 固定用户名 + 带签名的URL（延迟鉴权）
  jwt:
    username: "jwt"             # JWT模式固定用户名
    secret: null                # JWT密钥（必填），建议: openssl rand -base64 32
    algorithm: HS256
    issuer: sftp-proxy
    redis_enabled: false
  s3:
    # S3签名验证模式 - 客户端提供带签名的URL，服务器验证签名后访问文件
    enabled: false              # 是否启用S3签名验证模式
    username: "s3"              # S3模式固定用户名（默认s3）
    # 服务器使用的S3凭证（仅s3后端需要）
    access_key: null            # AWS Access Key ID
    secret_key: null            # AWS Secret Access Key  
    region: us-east-1           # AWS Region

storage:
  type: disk                    # disk | s3
  disk:
    root: ./data
  s3:
    bucket: my-bucket
    endpoint: https://s3.amazonaws.com
    access_key: null            # S3 Access Key（如使用S3后端则必填）
    secret_key: null            # S3 Secret Key（如使用S3后端则必填）
    region: us-east-1

log:
  level: INFO
  dir: ./logs
  format: "%(asctime)s [%(levelname)s] [%(action)s] %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"

api:
  admin_token: null             # 管理API的token（必填），用于HTTP API认证
